<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>프로세카 트위터 모집글 생성기</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css">
    <style>

        .tab-active { 

            border-b-2 border-indigo-500;
        }
    </style>
</head><body>

    <div id="loadingOverlay" class="fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50 hidden">
        <div class="p-4 bg-white rounded-xl shadow-2xl flex items-center">
            <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-indigo-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 
0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
            </svg>
            <p class="text-gray-700">템플릿 데이터를 불러오는 중...</p>
        </div>
    </div>

    <div class="max-w-5xl mx-auto p-4 sm:p-6 lg:p-8">
        <div class="bg-white p-6 rounded-xl shadow-2xl border border-gray-100">

            <div class="flex justify-between items-center">
                <h1 class="text-3xl font-bold text-gray-800 mb-6 border-b pb-2">
                    프로세카 트위터 모집글 생성기
                </h1>
                <button id="open-translator" class="bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700">번역기</button>
            </div>
            <div class="grid grid-cols-1 gap-6">

                <div>
                    <h2 class="text-xl font-semibold text-gray-800 mb-4 border-b pb-2">① 파라미터 입력</h2>

                    <div class="mb-4 input-group bg-blue-50 p-3 rounded-lg border border-blue-200">
                        <div class="flex items-center">
                            <input type="checkbox" id="veteranCheck" class="form-checkbox h-5 w-5 text-indigo-600" checked>
                            <label for="veteranCheck" class="ml-3 text-base font-medium text-blue-800">「베테랑」을 맨 앞에 삽입</label>
                        </div>
                        <p class="text-xs text-gray-500 mt-1">※ 체크하면 트윗의 맨 처음에 「베테랑」이 들어갑니다.</p>
                    </div>

                    <div class="mb-4 input-group p-3 bg-gray-50 rounded-lg border border-gray-200">
                        <label class="block text-sm font-medium text-gray-700 mb-2">플레이 기간 (선택)</label>
                        <div class="score-radio-group mb-2">
                            <input type="radio" id="countType_count" name="countType" value="count" class="hidden" checked>
                            <label for="countType_count">횟수로 모집</label>
                            <input type="radio" id="countType_time" name="countType" value="time" class="hidden">
                            <label for="countType_time">시간으로 모집</label>
                        </div>
                        <input 
                        type="number" id="countInput" placeholder="횟수 (예: 3)" 
                        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 mt-1 count-field" 
                        style="display: block;">
                        <input type="text" id="timeInput" placeholder="시간 (예: 23 or 23:30, 숫자만 입력 시 '時まで'/'まで' 자동 추가)" 
                        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 mt-1 count-field" 
                            style="display: none;">
                    </div>

                    <div class="mb-4 input-group">
                        <label class="block text-sm font-medium text-gray-700 mb-1">주회<span class="text-xs text-red-500"> (자동으로 【주회】가 끝에 붙습니다)</span></label>
                        <select id="loopTypeSelect" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 bg-white mb-2">
                            <option value="" selected>프리셋 선택</option>
                            <option value="🦐">엔비🦐</option>
                            <option value="ロスエン">로앤파</option>
                            <option value="おまかせ">오마카세</option>
                            <option value="MV">MV</option>
                        </select>
                        <p class="text-center my-1 text-gray-500 text-sm">또는</p>
                        <input type="text" id="loopTypeCustom" placeholder="곡명 직접 입력" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500">
                    </div>

                    <div class="mb-4 input-group">
                        <label for="slotsInput" class="block text-sm font-medium text-gray-700 mb-1">@ 모집 인원</label>
                        <input type="number" id="slotsInput" placeholder="예: 3" min="1" max="4" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500">
                    </div>

                    <div class="mb-4 input-group">
                        <label for="roomNumberInput" class="block text-sm font-medium text-gray-700 mb-1">🔑 방 번호</label>
                        <input type="number" id="roomNumberInput" placeholder="5자리 숫자" class="w-full 
px-3 py-2 border border-gray-300 rounded-lg text-lg font-mono text-center tracking-widest focus:ring-indigo-500 focus:border-indigo-500" maxlength="5">
                    </div>

                    <h3 class="text-base font-medium text-gray-800 mt-4 mb-2 border-t pt-2">모집 조건 설정</h3>
                    
                    <div class="mb-4 
input-group p-3 bg-gray-50 rounded-lg">
                        <label for="myScoreInput" class="block text-sm font-medium text-gray-700 mb-2">주: 자신의 실효치</label>
                        <div class="score-radio-group mb-2">
                            <input type="radio" id="myType_percent" name="myScoreType" value="percent" class="hidden" checked>
                            <label for="myType_percent">%</label>
                            <input type="radio" id="myType_star4" name="myScoreType" value="☆4" class="hidden">
                            <label for="myType_star4">☆4</label>
                            <input type="radio" id="myType_star4score" name="myScoreType" value="☆4スコアアップ" class="hidden">
                            <label for="myType_star4score">☆4스코어업</label>
                        </div>
                        <input type="number" id="myScoreInput" placeholder="예: 210" 
class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 mt-1" min="0">
                    </div>

                    <div class="mb-4 input-group p-3 bg-gray-50 rounded-lg">
                         <label for="reqScoreInput" class="block text-sm font-medium text-gray-700 mb-2">모: 모집 조건</label>
                        <div class="score-radio-group mb-2">
                            <input type="radio" id="reqType_percent" name="reqScoreType" value="percent" class="hidden" checked>
                            <label for="reqType_percent">%</label>
                            <input type="radio" id="reqType_star4" name="reqScoreType" value="☆4" class="hidden">
                            <label for="reqType_star4">☆4</label>
                            <input type="radio" id="reqType_star4score" name="reqScoreType" value="☆4スコアアップ" class="hidden">
                            <label for="reqType_star4score">☆4스코어업</label>
                        </div>
                        <div class="flex mt-1">
                            <input type="number" id="reqScoreInput" placeholder="예: 200" class="w-1/2 px-3 py-2 border border-gray-300 rounded-l-lg focus:ring-indigo-500 focus:border-indigo-500">
                            <select id="reqScoreCondition" class="w-1/2 px-3 py-2 border border-l-0 border-gray-300 rounded-r-lg focus:ring-indigo-500 focus:border-indigo-500 bg-white">
                                <option value="↑" selected>↑ (이상)</option>
                                <option value="〜">〜 (범위)</option>
                                <option value="">(없음)</option>
                            </select>
                        </div>
                    </div>

<div class="mb-4 input-group p-3 bg-blue-50 rounded-lg border border-blue-200">
    <h3 class="text-base font-medium text-blue-800 mb-2">선택: 헬퍼・앵콜 정보</h3>

    <div class="flex items-center space-x-4 mb-2">
        <div class="flex items-center">
            <input type="checkbox" id="supportCheck" class="form-checkbox h-4 w-4 text-indigo-600 rounded">
            <label for="supportCheck" class="ml-2 text-sm text-gray-700">헬퍼 있음</label>
        </div>
        <div class="flex items-center">
            <input 
type="checkbox" id="encoreCheck" class="form-checkbox h-4 w-4 text-indigo-600 rounded">
            <label for="encoreCheck" class="ml-2 text-sm text-gray-700">앵콜 있음</label>
        </div>
    </div>
    
    <label for="supportScoreInput" class="block text-sm font-medium text-gray-700 mb-1">헬퍼 실효치 (선택)<br><span class="text-xs text-red-500"> (자동으로 【%】가 끝에 붙습니다)</span></label>
    <div class="relative mb-2">
        <input type="number" id="supportScoreInput" placeholder="예: 275" maxlength="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 pr-10" min="0">
        <span class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500">%</span>
    </div>

    <label for="freeTextInpue" class="block text-sm font-medium text-gray-700 mb-1">앵콜 종합력/자유 텍스트 (선택)</label>
    <input type="text" id="freeTextInpue" placeholder="예: 36.4만 또는 코멘트" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500">
</div>
            
                    <h3 class="text-base font-medium text-gray-800 mt-4 mb-2 border-t pt-2">방 규칙 (복수 선택 가능)</h3>
          
                    <div id="ruleCheckboxes" class="space-y-2 
bg-gray-50 p-3 rounded-lg border border-gray-200">

<div class="flex items-center">
    <input type="checkbox" id="proxyRecruitmentCheck" value="代理助かります🙏" class="form-checkbox h-4 w-4 text-indigo-600 rounded">
    <label for="proxyRecruitmentCheck" class="ml-2 text-sm text-gray-700">대리모집해주면감사</label>
</div>

<div class="flex items-center">
                        <input type="checkbox" id="rule_nanido" value="難易度自由" class="form-checkbox h-4 w-4 text-indigo-600 rounded">
                            <label for="rule_nanido" class="ml-2 text-sm 
text-gray-700">난이도 자유</label>
                          </div>

                        <div class="flex items-center">
                            <input type="checkbox" id="rule_fast" value="高速周回のご協力お願いします🚗³₃" class="form-checkbox h-4 w-4 text-indigo-600 rounded">
                            <label for="rule_fast" class="ml-2 text-sm text-gray-700">고속주회 협력 부탁드립니다.</label>
                        </div>
<div class="flex items-center">
    <input type="checkbox" id="rule_hikeshi" value="火消し×" class="form-checkbox h-4 w-4 text-indigo-600 rounded">
    <label for="rule_hikeshi" class="ml-2 text-sm text-gray-700">불빼기×</label> 
</div>
<div class="flex items-center">
                            <input type="checkbox" id="rule_masterng" value="アンコ目的以外での紫禁止" class="form-checkbox h-4 w-4 text-indigo-600 rounded">
                            <label for="rule_masterng" class="ml-2 text-sm text-gray-700">앵콜 목적 이외의 마스터 금지</label>
                        </div>

<div class="flex items-center">
                            <input type="checkbox" id="rule_exng" value="アンコ目的以外での赤以上禁止" class="form-checkbox h-4 w-4 text-indigo-600 rounded">
                            <label for="rule_exng" class="ml-2 text-sm text-gray-700">앵콜 목적 이외의 익스 이상 금지</label>
                        </div>

                        <div class="flex items-center">
                            <input type="checkbox" 
id="rule_non_efficiency" value="効率曲以外選曲可" class="form-checkbox h-4 w-4 text-indigo-600 rounded">
                          <label for="rule_non_efficiency" class="ml-2 text-sm text-gray-700">효율 곡 이외의 곡 선택 가능</label>
                        </div>
                        <div class="flex items-center">
                            <input type="checkbox" id="rule_sengoku" value="選曲◎" class="form-checkbox h-4 w-4 text-indigo-600 rounded">
                            <label for="rule_sengoku" class="ml-2 text-sm text-gray-700">선곡 가능</label>
                        </div>
                        <div class="flex items-center">
                            <input type="checkbox" id="rule_mv" value="MV来たら観ます" 
                                 class="form-checkbox h-4 w-4 text-indigo-600 rounded">
                            <label for="rule_mv" class="ml-2 text-sm text-gray-700">MV 나오면 봄</label>
                        </div>
                        <div class="flex items-center">
                            <input type="checkbox" id="rule_okigae" value="お着替え◎" class="form-checkbox h-4 w-4 text-indigo-600 rounded">
                            <label for="rule_okigae" class="ml-2 text-sm text-gray-700">옷 갈아입기 가능</label>
                        </div>
                        <div class="flex items-center">
                            <input type="checkbox" id="rule_initial_costume_ng" value="初期衣装❌" class="form-checkbox h-4 w-4 text-indigo-600 rounded">
                            <label for="rule_initial_costume_ng" class="ml-2 text-sm text-gray-700">기본옷X</label>
                        </div>
                        <br>
                                                <div class="flex items-center">
                            <input type="checkbox" id="rule_sf" value="SFなし" class="form-checkbox h-4 w-4 text-indigo-600 rounded">
                            <label for="rule_sf" class="ml-2 text-sm text-gray-700">SF 신경 안 씀</label>
                        </div>

<div class="flex items-center">
                            <input type="checkbox" id="rule_miss" value="ミス気にしませ" class="form-checkbox h-4 w-4 text-indigo-600 rounded">
                            <label for="rule_miss" class="ml-2 text-sm text-gray-700">실수 신경 안 씀</label>
                       </div>
<div class="flex items-center">
                            <input type="checkbox" id="rule_otsusaki" value="主のおつさきで解散" class="form-checkbox h-4 w-4 text-indigo-600 rounded">
                            <label for="rule_otsusaki" class="ml-2 text-sm text-gray-700">방장의 ‘오츠카레사마’에 해산</label>
                        </div>

<div class="flex items-center">
                            <input type="checkbox" id="rule_stamp" value="スタンプ他部屋と同じ" class="form-checkbox h-4 w-4 text-indigo-600 rounded">
                            <label for="rule_stamp" class="ml-2 text-sm text-gray-700">스탬프 다른 방과 동일</label>
                        </div>

<div class="flex items-center">
                            <input type="checkbox" id="rule_kaisan" value="条件違い解散" 
                            class="form-checkbox h-4 w-4 text-indigo-600 rounded">
                            <label for="rule_kaisan" class="ml-2 text-sm text-gray-700">조건 다를 시 해산</label>
                        </div>
<div class="flex items-center">
                            <input type="checkbox" id="rule_time" value="長時間歓迎" class="form-checkbox h-4 w-4 text-indigo-600 rounded">
                            <label for="rule_time" class="ml-2 text-sm text-gray-700">장시간 환영</label>
                          </div>
                      <div class="flex items-center">
                            <input type="checkbox" id="rule_taisitsung" value="途中退室NG" class="form-checkbox h-4 w-4 text-indigo-600 rounded">
                            <label for="rule_taisitsung" class="ml-2 text-sm text-gray-700">중도 퇴장 OK</label>
                        </div>
<div class="flex items-center">
                            <input type="checkbox" id="rule_taisitsuok" value="途中退室OK" class="form-checkbox h-4 w-4 text-indigo-600 rounded">
                            <label for="rule_taisitsuok" class="ml-2 text-sm text-gray-700">중도 퇴장 NG</label>
                        </div>
                        <div class="flex items-center">
                            <input type="checkbox" id="rule_soku" value="最後までできる方" class="form-checkbox h-4 w-4 text-indigo-600 rounded">
                            <label for="rule_soku" class="ml-2 text-sm text-gray-700">끝까지 할 수 있는 분</label>
                        </div>

                        <div class="flex items-center">
                            <input type="checkbox" id="rule_wait" value="集まるまで待てる方" class="form-checkbox h-4 w-4 text-indigo-600 rounded">
                            <label for="rule_wait" class="ml-2 text-sm text-gray-700">모일 때까지 기다릴 수 있는 분</label>
                        </div>
                        <div class="flex items-center">
                            <input type="checkbox" id="rule_lower_req" value="集まり悪ければ下げます" class="form-checkbox h-4 w-4 text-indigo-600 rounded">
                            <label for="rule_lower_req" class="ml-2 text-sm text-gray-700">모이지 않으면 조건 내립니다.</label>
                        </div>
                    </div>
                </div>

                <div class="mt-8 p-6 border-4 border-green-400 rounded-xl bg-green-50 shadow-2xl">
                    <h2 class="text-2xl font-bold text-green-700 mb-3">② 생성 결과</h2>
            
                    <textarea id="outputTextarea" rows="6" readonly placeholder="위의 파라미터를 입력하면 여기에 최종 트윗 문장이 표시됩니다."
                    class="w-full p-4 border-2 border-green-300 rounded-lg bg-white resize-none text-base font-medium text-gray-800"></textarea>
                
                    <p id="charCount" class="text-right text-lg font-extrabold text-gray-600 mb-3">0 / 140 글자</p>

                    <button id="copyButton" disabled class="w-full px-6 py-4 text-xl text-white font-bold rounded-xl btn-primary transition-all cursor-not-allowed">
                        생성된 문장을 복사 (140자 이내)
                    </button>

                    <a id="tweetButton" href="#" 
target="_blank" rel="noopener noreferrer" class="block w-full text-center px-6 py-4 text-xl text-white font-bold rounded-xl transition-all mt-3" style="background-color: #1DA1F2;">
                        X에 게시하기
                    </a>
                </div>
                

            <div class="mt-8 pt-4 border-t text-sm text-gray-500">
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/google-translate-api-browser@5.0.0/index.min.js"></script>
    <script src="script.js"></script>

    <div id="translator-window" class="fixed top-16 right-4 bg-white p-4 rounded-lg shadow-lg w-80 hidden">
        <div class="flex justify-between items-center mb-2">
            <h3 class="text-lg font-bold">AI 번역기(api키 필수)</h3>
            <button id="close-translator" class="text-gray-500 hover:text-gray-800">&times;</button>
        </div>
        <textarea id="ko-input" class="w-full h-24 border border-gray-300 rounded-lg p-2" placeholder="한국어 입력"></textarea>
        <button id="translate-button" class="w-full bg-indigo-600 text-white py-2 rounded-lg mt-2 hover:bg-indigo-700">번역</button>
        <textarea id="ja-output" class="w-full h-24 border border-gray-300 rounded-lg p-2 mt-2" placeholder="일본어 출력" readonly></textarea>
        <div class="mt-4">

            <input type="password" id="gemini-api-key" class="w-full px-3 py-2 border border-gray-300 rounded-lg mt-2" placeholder="Gemini API 키 입력">
            <a href="https://aistudio.google.com/api-keys" target="_blank" class="text-xs text-indigo-600 hover:underline">API 키 발급받기</a>
        </div>
    </div>
    <div id="google_translate_element"></div>

    <script type="text/javascript">
      function googleTranslateElementInit() {
        new google.translate.TranslateElement({
          pageLanguage: 'ko',
          includedLanguages: 'en,ja,zh-CN',
          layout: google.translate.TranslateElement.InlineLayout.SIMPLE
        }, 'google_translate_element');
      }
    </script>

    <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
</body>
</html>
